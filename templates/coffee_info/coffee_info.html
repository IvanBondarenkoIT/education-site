{% extends 'base.html' %}
{% load static %}

{% block title %}Информация о кофе и зерне - {{ site_name }}{% endblock %}

{% block meta_description %}Информация о кофе и зерне. Экспертные знания о кофейных зернах, способах заваривания и качестве.{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="hero hero--coffee">
    <div class="hero__background">
        <div class="hero__overlay"></div>
    </div>
    <div class="container">
        <div class="row align-items-center min-vh-50">
            <div class="col-lg-8">
                <div class="hero__content">
                    <h1 class="hero__title display-4 fw-bold text-white mb-4">
                        Информация о кофе и зерне
                    </h1>
                    <p class="hero__subtitle lead text-white-75 mb-4">
                        Экспертные знания о кофейных зернах, способах заваривания и качестве
                    </p>
                    <div class="hero__stats">
                        <span class="badge bg-warning text-dark fs-6 me-3">
                            <i class="fas fa-mug-hot me-2"></i>
                            {{ total_count }} тем
                        </span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Coffee Info Section -->
<section class="coffee-info section">
    <div class="container">
        {% for category, info_list in categories.items %}
        <div class="coffee-info__category mb-5">
            <div class="row">
                <div class="col-12">
                    <h2 class="coffee-info__category-title h3 fw-bold mb-4">
                        <i class="fas fa-coffee text-warning me-2"></i>
                        {{ info_list.0.get_category_display }}
                    </h2>
                </div>
            </div>
            
            <div class="row g-4">
                {% for info in info_list %}
                <div class="col-md-6 col-lg-4">
                    <div class="coffee-info-card">
                        <div class="coffee-info-card__header">
                            <div class="coffee-info-card__category">
                                <span class="badge bg-warning text-dark">{{ info.get_category_display }}</span>
                            </div>
                            {% if info.image %}
                            <div class="coffee-info-card__image">
                                <img src="{{ info.image.url }}" alt="{{ info.title }}" class="img-fluid rounded">
                            </div>
                            {% endif %}
                        </div>
                        <div class="coffee-info-card__content">
                            <h3 class="coffee-info-card__title h6 fw-bold mb-3">
                                {{ info.title }}
                            </h3>
                            <div class="coffee-info-card__content-preview">
                                {{ info.content|safe|truncatewords:20 }}
                            </div>
                        </div>
                        <div class="coffee-info-card__footer">
                            <a href="{% url 'core:coffee_info_detail' info.id %}" class="btn btn-outline-warning btn-sm">
                                Подробнее
                                <i class="fas fa-arrow-right ms-1"></i>
                            </a>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
        {% endfor %}
    </div>
</section>

<!-- Call to Action Section -->
<section class="cta section section--light">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-8 text-center">
                <div class="cta__content">
                    <h2 class="cta__title h3 fw-bold mb-4">
                        Готовы углубить знания о кофе?
                    </h2>
                    <p class="cta__description text-muted mb-4">
                        Изучите подробную информацию о кофейных зернах и способах заваривания
                    </p>
                    <div class="cta__actions">
                        <a href="{% url 'core:training_program' %}" class="btn btn-primary btn-lg me-3">
                            <i class="fas fa-graduation-cap me-2"></i>
                            Программы обучения
                        </a>
                        <a href="{% url 'core:job_instructions' %}" class="btn btn-outline-primary btn-lg">
                            <i class="fas fa-file-alt me-2"></i>
                            Должностные инструкции
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/layouts/coffee-info.css' %}">
{% endblock %}
